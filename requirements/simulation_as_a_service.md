# Requirements for the Simulation Services of the NFDI4Energy Platform

This document lists the requirements for the simulation service of the NFDI4Energy platform. 
The overall goal of this simulation service is to better support the use of simulation in the energy domain, both for experts and interested non-experts. 
Therefore, we aim to provide Simulation-as-a-Service (SaaS) with the NFDI4Energy platform as a front-end.
We curated the list in Measure 5.3 of Task Area 5. 
The requirements list is based on the exemplary use cases described in Task Area 6.
The IDs of the requirements refer to the use cases they are needed for. 

| Req. ID | Requirement Name                           | Description                                                                                                                                                                                                                                                                                                                        | Linked Terms | Priority | Creation Date | Responsible | 
|---------|--------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------|:--------:|---------------|-------------|
| 6.1.1   | Coupling real laboratories                 | Enable coupling of distributed real-time simulations and real laboratories using VILLASframework                                                                                                                                                                                                                                   |              |   high   | 12.09.2024    |             |
| 6.1.2   | HIL-Simulation                             | Enable hardware-in-the-loop simulations using VILLASframework                                                                                                                                                                                                                                                                      |              |   high   | 12.09.2024    |             |
| 6.1.3   | Automated configuration of VILLASframework | Provide a possibility to configure simulation setups  with VILLASframework automatically                                                                                                                                                                                                                                           |              |   low    | 12.09.2024    |             |
| 6.1.4   | Geographically distributed simulation      | Enable co-simulation on geographically distributed devices                                                                                                                                                                                                                                                                         |              |   high   | 12.09.2024    |             |
| 6.1.5   | Real-Time Simulator                        | Integrate a real-time simulator (RT-LAB/RTDS) into the simulation setup to enable real-time simulation                                                                                                                                                                                                                             |              |   high   | 12.09.2024    |             |
| 6.1.6   | HIL-Interface                              | Provide access to Xilinx FPGAs and ADC/DAC                                                                                                                                                                                                                                                                                         |              |  middle  | 12.09.2024    |             |
| 6.1.7   | QoS                                        | Optimize communication between different simulation components                                                                                                                                                                                                                                                                     |              |  middle  | 12.09.2024    |             |
| 6.1.8   | Complex simulation VILLASframework         | Enable a simulation where RTDS, FMUs, and InfluxDB are coupled over VILLASframework                                                                                                                                                                                                                                                |              |   high   | 12.09.2024    |             |
| 6.1.9   | Different step sizes                       | Enable time domain simulation with different step sizes                                                                                                                                                                                                                                                                            |              |   low    | 12.09.2024    |             |
| 6.1.10  | Multi-energy-simulation Energy Domain      | Enable multi-energy-simulation, that couples models of electric energy and thermal energy                                                                                                                                                                                                                                          |              |   high   | 12.09.2024    |             |
| 6.1.11  | Input data and models                      | Enable simulations with the following input data and models: <br />1. Time series database / time series for PV system <br /> 2. RTDS low voltage model <br /> 3. RTDS model for controllable load (possibly with OpalRT behind it but this is a black box for us) <br />4. Adjustable hardware load 5. Model of a building as FMU |              |   high   | 12.09.2024    |             |
| 6.1.12  | Hardware Requirements                      | Enable simulations with incorporating the following hardware: <br /> 1. The RTDS real time simulators (2x) <br /> 2. Hardware Load <br /> 3. Lab infrastructure <br /> 4. OpalRT hardware interface                                                                                                                                |              |   high   | 12.09.2024    |             |
| 6.3.1   | Agent Based Simulation                     | Enable distributed simulation of energy systems using agent based simulation                                                                                                                                                                                                                                                       |              |   high   | 12.09.2024    |             |
| 6.3.2   | Multiple domains                           | Enable a co-simulation with simulators from the communication and traffic domain                                                                                                                                                                                                                                                   |              |   high   | 12.09.2024    |             |
| 6.3.3   | Power Plants                               | Enable simulations of power plants, like wind turbines, photo voltaic, combined heat and power, and battery                                                                                                                                                                                                                        |              |  middle  | 12.09.2024    |             |
| 6.3.4   | Flexibility and self-healing               | Enable simulations of flexibility and self-healing mechanisms using agent based models                                                                                                                                                                                                                                             |              |   high   | 12.09.2024    |             |
| 6.3.5   | Agents                                     | Enable agent based simulations, supporting the following agents: <br /> 1. Unit agents <br /> 2. Aggregator agents <br /> 3. Grid agents                                                                                                                                                                                           |              |  middle  | 12.09.2024    |             |
| 6.3.6   | Communication simulator                    | Integrate a communication simulator  into a  co-simulation framework                                                                                                                                                                                                                                                               |              |   high   | 12.09.2024    |             |
| 6.3.7   | Traffic simulator                          | Integrate a traffic simulator into a  co-simulation framework                                                                                                                                                                                                                                                                      |              |   high   | 12.09.2024    |             |
| 6.3.8   | Input data                                 | Read in data from csv and hdf5 files with a size of 1-5 MB                                                                                                                                                                                                                                                                         |              |   high   | 12.09.2024    |             |
| 6.3.9   | Standardized protocols                     | Use standardized protocols like json and protobuf                                                                                                                                                                                                                                                                                  |              |   low    | 12.09.2024    |             |
| 6.3.10  | Low delay                                  | Keep delay caused by framework/middleware low                                                                                                                                                                                                                                                                                      |              |   low    | 12.09.2024    |             |
| 6.3.11  | Reduce complexity                          | Reduce complexity of coupling of frameworks                                                                                                                                                                                                                                                                                        |              |   low    | 01.01.2025    |             |
| 6.3.12  | Message exchange                           | Simulate message exchange between agents via communication framework                                                                                                                                                                                                                                                               |              |  middle  | 01.01.2025    |             |
| 6.3.13  | Interface                                  | Keep interface to other frameworks easily interchangeable                                                                                                                                                                                                                                                                          |              |  middle  | 01.01.2025    |             |
| 6.3.14  | Real and simulation time                   | Consider real time and simulation time at the same time                                                                                                                                                                                                                                                                            |              |   high   | 01.01.2025    |             |
| 6.3.15  | Execution variants                         | Allow for simulation using GUI or command line                                                                                                                                                                                                                                                                                     |              |  middle  | 01.01.2025    |             |
| 6.3.16  | Disturbances                               | Integrate disturbances in order to ensure robustness of implemented solution                                                                                                                                                                                                                                                       |              |   high   | 01.01.2025    |             |
| 6.3.17  | Distributed optimization                   | Be able to run optimization problems in a distributed way                                                                                                                                                                                                                                                                          |              |   high   | 01.01.2025    |             |
| 6.3.18  | Data exchange                              | Allow fast data exchange between agents                                                                                                                                                                                                                                                                                            |              |   high   | 01.01.2025    |             |
| 6.3.19  | Evaluation                                 | Consider evaluation scripts based on output data (as for visualisation)                                                                                                                                                                                                                                                            |              |  middle  | 01.01.2025    |             |
| 6.3.20  | Scalability                                | Ensure scalability of the autonomous distributed system                                                                                                                                                                                                                                                                            |              |  middle  | 01.01.2025    |             |
| 6.3.21  | Demands                                    | Consider inputs (demands) from grid operator or market operator                                                                                                                                                                                                                                                                    |              |   high   | 01.01.2025    |             |
| 6.3.22  | Reactions                                  | Consider reactions to disturbances                                                                                                                                                                                                                                                                                                 |              |  middle  | 01.01.2025    |             |
| Other.1 | SaaS                                       | Enable the automated execution of energy simulations based on a predefined configuration                                                                                                                                                                                                                                           |              |   high   | 12.09.2024    |             |
| Other.2 | MaaS                                       | Enable the assisted creation of a simulation scenarios for a energy simulation                                                                                                                                                                                                                                                     |              |  middle  | 12.09.2024    |             |
| Other.3 | Scenario Ontology                          | Enable the configuration of simulation scenarios via the scenario ontology developed in TA5                                                                                                                                                                                                                                        |              |   high   | 12.09.2024    |             |
| Other.4 | Run example scenario                       | Provide some example scenarios for each framework and enable running them in the simulation service                                                                                                                                                                                                                                |              |  middle  | 12.09.2024    |             |
| Other.5 | Common results-format                      | Enable exporting the results in a common specified format                                                                                                                                                                                                                                                                          |              |   high   | 12.09.2024    |             |
| Other.6 | Common dashboard                           | Provide a dashboard that shows the progress and previous results of the running simulation. The Dashboard should be the same for each framework                                                                                                                                                                                    |              |   low    | 12.09.2024    |             |
